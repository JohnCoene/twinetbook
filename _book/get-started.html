<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>The twinetverse</title>
  <meta name="description" content="A guide to visualise networks of Twitter interactions in R using the twinetverse.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="The twinetverse" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover.png" />
  <meta property="og:description" content="A guide to visualise networks of Twitter interactions in R using the twinetverse." />
  <meta name="github-repo" content="JohnCoene/twinetverse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The twinetverse" />
  
  <meta name="twitter:description" content="A guide to visualise networks of Twitter interactions in R using the twinetverse." />
  <meta name="twitter:image" content="images/cover.png" />

<meta name="author" content="John Coene">


<meta name="date" content="2018-08-01">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="prerequisites.html">
<link rel="next" href="advanced.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/sigma-1.2.1/sigma.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.layout.forceAtlas2.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.layout.noverlap.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.parallelEdges.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.animate.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.customShapes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.dragNodes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.customEdgeShapes.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.relativeSize.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.edgeDots.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.edgeLabels.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.parsers.gexf.min.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.exporters.svg.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.neighborhoods.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.plugins.filter.js"></script>
<script src="libs/sigma-1.2.1/plugins/sigma.renderers.snapshot.js"></script>
<script src="libs/sigmajs-binding-0.1.1.9000/sigmajs.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-74544116-1', 'auto');
ga('send', 'pageview');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The twinetverse Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#packages"><i class="fa fa-check"></i><b>2.1</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pkgs.html"><a href="pkgs.html"><i class="fa fa-check"></i><b>3</b> Packages</a><ul>
<li class="chapter" data-level="3.1" data-path="pkgs.html"><a href="pkgs.html#rtweet"><i class="fa fa-check"></i><b>3.1</b> rtweet</a><ul>
<li class="chapter" data-level="3.1.1" data-path="pkgs.html"><a href="pkgs.html#usage"><i class="fa fa-check"></i><b>3.1.1</b> Usage</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="pkgs.html"><a href="pkgs.html#graphtweets"><i class="fa fa-check"></i><b>3.2</b> graphTweets</a><ul>
<li class="chapter" data-level="3.2.1" data-path="pkgs.html"><a href="pkgs.html#rationale"><i class="fa fa-check"></i><b>3.2.1</b> Rationale</a></li>
<li class="chapter" data-level="3.2.2" data-path="pkgs.html"><a href="pkgs.html#usage-1"><i class="fa fa-check"></i><b>3.2.2</b> Usage</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="pkgs.html"><a href="pkgs.html#sigmajs"><i class="fa fa-check"></i><b>3.3</b> sigmajs</a><ul>
<li class="chapter" data-level="3.3.1" data-path="pkgs.html"><a href="pkgs.html#usage-2"><i class="fa fa-check"></i><b>3.3.1</b> Usage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>4</b> Prerequisites</a><ul>
<li class="chapter" data-level="4.1" data-path="prerequisites.html"><a href="prerequisites.html#install"><i class="fa fa-check"></i><b>4.1</b> Install</a></li>
<li class="chapter" data-level="4.2" data-path="prerequisites.html"><a href="prerequisites.html#setup-rtweet"><i class="fa fa-check"></i><b>4.2</b> Setup rtweet</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>5</b> Get Started</a><ul>
<li class="chapter" data-level="5.1" data-path="get-started.html"><a href="get-started.html#collect"><i class="fa fa-check"></i><b>5.1</b> Collect</a></li>
<li class="chapter" data-level="5.2" data-path="get-started.html"><a href="get-started.html#build"><i class="fa fa-check"></i><b>5.2</b> Build</a></li>
<li class="chapter" data-level="5.3" data-path="get-started.html"><a href="get-started.html#visualise"><i class="fa fa-check"></i><b>5.3</b> Visualise</a></li>
<li class="chapter" data-level="5.4" data-path="get-started.html"><a href="get-started.html#recap"><i class="fa fa-check"></i><b>5.4</b> Recap</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced.html"><a href="advanced.html"><i class="fa fa-check"></i><b>6</b> Advanced</a><ul>
<li class="chapter" data-level="6.1" data-path="advanced.html"><a href="advanced.html#collect-1"><i class="fa fa-check"></i><b>6.1</b> Collect</a></li>
<li class="chapter" data-level="6.2" data-path="advanced.html"><a href="advanced.html#build-1"><i class="fa fa-check"></i><b>6.2</b> Build</a></li>
<li class="chapter" data-level="6.3" data-path="advanced.html"><a href="advanced.html#visualise-1"><i class="fa fa-check"></i><b>6.3</b> Visualise</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hashtags.html"><a href="hashtags.html"><i class="fa fa-check"></i><b>7</b> Hashtags</a></li>
<li class="chapter" data-level="8" data-path="ego.html"><a href="ego.html"><i class="fa fa-check"></i><b>8</b> Ego</a></li>
<li class="chapter" data-level="9" data-path="dynamic.html"><a href="dynamic.html"><i class="fa fa-check"></i><b>9</b> Dynamic Edges</a><ul>
<li class="chapter" data-level="9.1" data-path="dynamic.html"><a href="dynamic.html#rationale-1"><i class="fa fa-check"></i><b>9.1</b> Rationale</a></li>
<li class="chapter" data-level="9.2" data-path="dynamic.html"><a href="dynamic.html#collect-2"><i class="fa fa-check"></i><b>9.2</b> Collect</a></li>
<li class="chapter" data-level="9.3" data-path="dynamic.html"><a href="dynamic.html#build-2"><i class="fa fa-check"></i><b>9.3</b> Build</a></li>
<li class="chapter" data-level="9.4" data-path="dynamic.html"><a href="dynamic.html#visualise-2"><i class="fa fa-check"></i><b>9.4</b> Visualise</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="temporal.html"><a href="temporal.html"><i class="fa fa-check"></i><b>10</b> Temporal graph</a><ul>
<li class="chapter" data-level="10.1" data-path="temporal.html"><a href="temporal.html#collect-3"><i class="fa fa-check"></i><b>10.1</b> Collect</a></li>
<li class="chapter" data-level="10.2" data-path="temporal.html"><a href="temporal.html#build-3"><i class="fa fa-check"></i><b>10.2</b> Build</a></li>
<li class="chapter" data-level="10.3" data-path="temporal.html"><a href="temporal.html#visualise-3"><i class="fa fa-check"></i><b>10.3</b> Visualise</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ephemeral.html"><a href="ephemeral.html"><i class="fa fa-check"></i><b>11</b> Ephemeral</a><ul>
<li class="chapter" data-level="11.1" data-path="ephemeral.html"><a href="ephemeral.html#collect-4"><i class="fa fa-check"></i><b>11.1</b> Collect</a></li>
<li class="chapter" data-level="11.2" data-path="ephemeral.html"><a href="ephemeral.html#build-4"><i class="fa fa-check"></i><b>11.2</b> Build</a></li>
<li class="chapter" data-level="11.3" data-path="ephemeral.html"><a href="ephemeral.html#visualise-4"><i class="fa fa-check"></i><b>11.3</b> Visualise</a></li>
<li class="chapter" data-level="11.4" data-path="ephemeral.html"><a href="ephemeral.html#dynamic-layout"><i class="fa fa-check"></i><b>11.4</b> Dynamic layout</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="rmd.html"><a href="rmd.html"><i class="fa fa-check"></i><b>12</b> R markdown</a><ul>
<li class="chapter" data-level="12.1" data-path="rmd.html"><a href="rmd.html#buttons"><i class="fa fa-check"></i><b>12.1</b> Buttons</a></li>
<li class="chapter" data-level="12.2" data-path="rmd.html"><a href="rmd.html#delays"><i class="fa fa-check"></i><b>12.2</b> Delays</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The twinetverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="get-started" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Get Started</h1>
<p>In this chapter we briefly explore the twinetverse: we <em>collect</em> tweets, <em>build</em> and <em>visualise</em> our first graph.</p>
<div class="note">
<p>
If you follow this along in RStudio; the visualisations do not open in the viewer and instead open in your default browser.
</p>
</div>
<div id="collect" class="section level2">
<h2><span class="header-section-number">5.1</span> Collect</h2>
<p>See the <a href="prerequisites.html#prerequisites">prerequisites</a> section if the line below confuses you.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">TK &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;token.rds&quot;</span>)</code></pre></div>
<p>rtweet lets you do a lot of things, however within the context of the <em>twinetverse</em> we mainly use its <code>search_tweets</code> to get tweets.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tweets &lt;-<span class="st"> </span><span class="kw">search_tweets</span>(<span class="st">&quot;rstats&quot;</span>, <span class="dt">token =</span> TK)</code></pre></div>
<pre><code>## Searching for tweets...</code></pre>
<pre><code>## Finished collecting tweets!</code></pre>
<p>The <code>search_tweets</code> function takes a few arguments some of which we’ll eventually get into, above we run the simplest possible call; fetching tweets about “rstats”, a reference to the R <span class="citation">(R Core Team <a href="#ref-R-base">2018</a>)</span> Twitter <a href="https://twitter.com/search?q=rstats">#hashtag</a>, by default the function returns 100 tweets. Note that we also pass our token to the function.</p>
<p>Each row a is a tweet, rtweet returns quite a lot of variables (88), we’ll only look at a select few.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(tweets)</code></pre></div>
<pre><code>##  [1] &quot;user_id&quot;                 &quot;status_id&quot;              
##  [3] &quot;created_at&quot;              &quot;screen_name&quot;            
##  [5] &quot;text&quot;                    &quot;source&quot;                 
##  [7] &quot;display_text_width&quot;      &quot;reply_to_status_id&quot;     
##  [9] &quot;reply_to_user_id&quot;        &quot;reply_to_screen_name&quot;   
## [11] &quot;is_quote&quot;                &quot;is_retweet&quot;             
## [13] &quot;favorite_count&quot;          &quot;retweet_count&quot;          
## [15] &quot;hashtags&quot;                &quot;symbols&quot;                
## [17] &quot;urls_url&quot;                &quot;urls_t.co&quot;              
## [19] &quot;urls_expanded_url&quot;       &quot;media_url&quot;              
## [21] &quot;media_t.co&quot;              &quot;media_expanded_url&quot;     
## [23] &quot;media_type&quot;              &quot;ext_media_url&quot;          
## [25] &quot;ext_media_t.co&quot;          &quot;ext_media_expanded_url&quot; 
## [27] &quot;ext_media_type&quot;          &quot;mentions_user_id&quot;       
## [29] &quot;mentions_screen_name&quot;    &quot;lang&quot;                   
## [31] &quot;quoted_status_id&quot;        &quot;quoted_text&quot;            
## [33] &quot;quoted_created_at&quot;       &quot;quoted_source&quot;          
## [35] &quot;quoted_favorite_count&quot;   &quot;quoted_retweet_count&quot;   
## [37] &quot;quoted_user_id&quot;          &quot;quoted_screen_name&quot;     
## [39] &quot;quoted_name&quot;             &quot;quoted_followers_count&quot; 
## [41] &quot;quoted_friends_count&quot;    &quot;quoted_statuses_count&quot;  
## [43] &quot;quoted_location&quot;         &quot;quoted_description&quot;     
## [45] &quot;quoted_verified&quot;         &quot;retweet_status_id&quot;      
## [47] &quot;retweet_text&quot;            &quot;retweet_created_at&quot;     
## [49] &quot;retweet_source&quot;          &quot;retweet_favorite_count&quot; 
## [51] &quot;retweet_retweet_count&quot;   &quot;retweet_user_id&quot;        
## [53] &quot;retweet_screen_name&quot;     &quot;retweet_name&quot;           
## [55] &quot;retweet_followers_count&quot; &quot;retweet_friends_count&quot;  
## [57] &quot;retweet_statuses_count&quot;  &quot;retweet_location&quot;       
## [59] &quot;retweet_description&quot;     &quot;retweet_verified&quot;       
## [61] &quot;place_url&quot;               &quot;place_name&quot;             
## [63] &quot;place_full_name&quot;         &quot;place_type&quot;             
## [65] &quot;country&quot;                 &quot;country_code&quot;           
## [67] &quot;geo_coords&quot;              &quot;coords_coords&quot;          
## [69] &quot;bbox_coords&quot;             &quot;status_url&quot;             
## [71] &quot;name&quot;                    &quot;location&quot;               
## [73] &quot;description&quot;             &quot;url&quot;                    
## [75] &quot;protected&quot;               &quot;followers_count&quot;        
## [77] &quot;friends_count&quot;           &quot;listed_count&quot;           
## [79] &quot;statuses_count&quot;          &quot;favourites_count&quot;       
## [81] &quot;account_created_at&quot;      &quot;verified&quot;               
## [83] &quot;profile_url&quot;             &quot;profile_expanded_url&quot;   
## [85] &quot;account_lang&quot;            &quot;profile_banner_url&quot;     
## [87] &quot;profile_background_url&quot;  &quot;profile_image_url&quot;</code></pre>
</div>
<div id="build" class="section level2">
<h2><span class="header-section-number">5.2</span> Build</h2>
<p>Now we can use the second package part of the <em>twinetverse</em>, graphTweets. Again, we’ll leave all function’s arguments to default to get a simple graph. There’s a lot more to the package which we’ll uncover progressively as we move through the book.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">net &lt;-<span class="st"> </span>tweets <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_edges</span>(<span class="dt">tweets =</span> text, <span class="dt">source =</span> screen_name, <span class="dt">id =</span> status_id)</code></pre></div>
<p>We called <code>gt_edges</code> on our <code>tweets</code> data.frame, passing a few bare column names. The source of the tweets (the user posting the tweets) will also be the source of our edges so we pass <code>screen_name</code>, then the target of these edges will be users tagged in the tweets, <code>text</code> variable in rtweet. Finally we pass a unique <code>id</code> for each tweet, you could add one yourself but the one provided by Twitter (<code>status_id</code>) does the job.</p>
<p>The object returned is of an unfamiliar class.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(net)</code></pre></div>
<pre><code>## [1] &quot;graphTweets&quot;</code></pre>
<p>To extracts the results from graphTweets run <code>gt_collect</code>, this will work at any point in the chain of pipes (<code>%&gt;%</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">net &lt;-<span class="st"> </span>net <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_collect</span>()

<span class="kw">class</span>(net)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>Great but this returns a lists and R users much prefer data.frames. graphTweets actualy returns two data.frames that are encapsulated in a list. Indeed networks cannot be compressed into a single data.frame, we need 1) nodes and 2) edges.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(net)</code></pre></div>
<pre><code>## [1] &quot;edges&quot; &quot;nodes&quot;</code></pre>
<div class="note">
<p>
A network consists of <em>nodes</em> and <em>edges</em>: this is just what graphTweets returns.
</p>
</div>
<p>Great, so it looks like we have both nodes and edges, not really. We only have edges, <code>net$nodes</code> is actually <code>NULL</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(net, class)</code></pre></div>
<pre><code>## $edges
## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;
## 
## $nodes
## [1] &quot;NULL&quot;</code></pre>
<p>Well, we only ran <code>gt_edges</code> so it make sense to only have edges. Let’s scrap that and get both nodes and edges.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">net &lt;-<span class="st"> </span>tweets <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_edges</span>(text, screen_name, status_id) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># get edges</span>
<span class="st">  </span><span class="kw">gt_nodes</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># get nodes</span>
<span class="st">  </span><span class="kw">gt_collect</span>() <span class="co"># collect</span>

<span class="kw">lapply</span>(net, class)</code></pre></div>
<pre><code>## $edges
## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;
## 
## $nodes
## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>Before we move on, something to note. graphTweets <em>requires</em> that you run the functions in the correct order, first <code>gt_edges</code> and second <code>gt_nodes</code>. This is because one can only know the nodes of a graph based on the edges and not vice versa.</p>
<div class="note">
<p>
Run graphTweets functions in the correct order, first get the edges <em>then</em> the nodes.
</p>
</div>
<p>Now we’re ready to visualise the data, we have downloaded tweets used them to build a of nodes and another of edges.</p>
</div>
<div id="visualise" class="section level2">
<h2><span class="header-section-number">5.3</span> Visualise</h2>
<p>We can visualise the network with sigmajs. Then again, it’s very easy and follows the same idea as graphTweets; we pipe our nodes and edges through. Before we do so, for the sake of clarity, let’s unpack our network using the <code>%&lt;-%</code> from the Zeallot package <span class="citation">(Teetor <a href="#ref-R-zeallot">2018</a>)</span>, imported by the twinetverse.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(edges, nodes) <span class="op">%&lt;-%</span><span class="st"> </span>net</code></pre></div>
<div class="tip">
<p>
You can always unpack the network with <code>edges &lt;- net$edges</code> and <code>nodes &lt;- net$nodes</code> if you are not comfortable with the above.
</p>
</div>
<p>Let’s take a look at the edges.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(edges)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">source</th>
<th align="left">target</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">lobrowR</td>
<td align="left">henrikbengtsson</td>
</tr>
<tr class="even">
<td align="left">rstatstweet</td>
<td align="left">CRC</td>
</tr>
<tr class="odd">
<td align="left">rstatstweet</td>
<td align="left">MathStats</td>
</tr>
<tr class="even">
<td align="left">rstatstweet</td>
<td align="left">AmstatNews</td>
</tr>
<tr class="odd">
<td align="left">rstatstweet</td>
<td align="left">rstatstweet</td>
</tr>
<tr class="even">
<td align="left">rstatstweet</td>
<td align="left">benilton</td>
</tr>
</tbody>
</table>
<p>Edges simply consist of <code>source</code> and <code>target</code>, as explained earlier on, <code>source</code> essentially corresponds to <code>screen_name</code> passed in <code>gt_edges</code>, it is the user who posted the tweet. In contrast, <code>target</code> includes the users that were tagged in the <code>text</code> of the tweet.</p>
<p>Now let’s take a look at the nodes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(nodes)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">nodes</th>
<th align="left">type</th>
<th align="right">n_edges</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">77ccampbell</td>
<td align="left">user</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">AmstatNews</td>
<td align="left">user</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">anmamago</td>
<td align="left">user</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">areyesq</td>
<td align="left">user</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">AskvividXet</td>
<td align="left">user</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">benilton</td>
<td align="left">user</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>In the nodes data frame the column <code>n_edges</code> is the number edges the node appears in, while the <code>nodes</code> column are the Twitter handles of <em>both</em> the authors of the tweets (<code>screen_name</code>) and those who were tagged in the tweets (<code>text</code>). All nodes are users of course, but we will see another graph later in the book where they may not be.</p>
<p>Below we rename a few columns, to meet sigmajs’ naming convention.</p>
<ol style="list-style-type: decimal">
<li>We add ids to our nodes, this can be a string and thus simply corresponds to our <code>nodes</code> column.</li>
<li>We essentially rename <code>n_edges</code> to <code>size</code> as this is what sigmajs understands (more on this later).</li>
<li>We add ids to our edges as sigmajs requires each edge to have a unique id.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nodes<span class="op">$</span>id &lt;-<span class="st"> </span><span class="kw">as.factor</span>(nodes<span class="op">$</span>nodes) 
nodes<span class="op">$</span>size &lt;-<span class="st"> </span>nodes<span class="op">$</span>n_edges 
edges<span class="op">$</span>id &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="kw">nrow</span>(edges)) </code></pre></div>
<p>sigmajs has a specific but sensible naming convention as well as basic <em>minimal requirements</em>.</p>
<ul>
<li>Nodes must at least include <code>id</code>, and <code>size</code>.</li>
<li>Edges must at least include <code>id</code>, <code>source</code>, and <code>target</code>.</li>
</ul>
<p>Well actually, the <em>twinetverse</em> comes with helper functions to prepare the nodes and edges build from graphTweets for use in sigmajs (these are the only functions the ’verse provides).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nodes &lt;-<span class="st"> </span><span class="kw">nodes2sg</span>(nodes)
edges &lt;-<span class="st"> </span><span class="kw">edges2sg</span>(edges)</code></pre></div>
<div class="note">
<p>
You need to respect sigmajs naming convention or the graph will not display.
</p>
</div>
<p>Let’s visualise that, we must initialise every sigmajs graph with the <code>sigmajs</code> function, then we add our nodes with <code>sg_nodes</code>, passing the column names we mentioned previously, <code>id</code>, and <code>size</code> to meet sigmajs’ minimum requirements. <em>At the exception of <code>sigmajs</code>, all functions of the sigmajs package start with <code>sg_</code></em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sigmajs</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, size) </code></pre></div>
<div id="htmlwidget-31f4d96b989ff6abc762" class="sigmajs html-widget" style="width:100%;height:480px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-31f4d96b989ff6abc762">{"x":{"data":{"nodes":[{"id":"77ccampbell","size":" 2","x":"16.879180","y":"12.001844"},{"id":"AmstatNews","size":" 2","x":" 9.563827","y":"18.875407"},{"id":"anmamago","size":" 2","x":" 8.783405","y":" 7.330338"},{"id":"areyesq","size":" 6","x":"17.404997","y":" 5.198215"},{"id":"AskvividXet","size":" 1","x":" 6.122850","y":" 1.116649"},{"id":"benilton","size":" 2","x":" 3.020596","y":"16.049721"},{"id":"Bioconductor","size":" 2","x":" 6.074814","y":" 8.352289"},{"id":"ccg","size":" 2","x":"15.448739","y":"16.762124"},{"id":"ccg_unam","size":" 4","x":"10.520587","y":" 3.389560"},{"id":"CDSBMexico","size":" 1","x":" 9.947969","y":" 1.236938"},{"id":"ChicagoCDO","size":" 1","x":"16.191245","y":" 8.848358"},{"id":"CivicAngela","size":" 4","x":"12.396440","y":"12.498148"},{"id":"co","size":" 3","x":"15.444316","y":"15.425402"},{"id":"correajfc","size":" 1","x":"14.574260","y":"11.145666"},{"id":"CougRstats","size":" 2","x":" 1.304449","y":" 7.525077"},{"id":"CRC","size":" 2","x":"10.346142","y":"11.417162"},{"id":"dangerpeel","size":" 4","x":" 6.040773","y":"18.583467"},{"id":"DataScienceCtrl","size":" 1","x":"14.307127","y":" 7.966724"},{"id":"datascienceplus","size":" 2","x":" 9.409456","y":"11.770745"},{"id":"dvaughan32","size":" 2","x":"18.349548","y":"16.938366"},{"id":"ecoscope","size":" 1","x":" 6.992508","y":" 3.187720"},{"id":"fellgernon","size":" 1","x":" 6.440167","y":" 1.569313"},{"id":"hadleywickham","size":" 1","x":"10.807708","y":" 8.853898"},{"id":"henrikbengtsson","size":" 1","x":"19.103603","y":" 9.804994"},{"id":"hexheadtn","size":" 5","x":"12.466344","y":" 2.205612"},{"id":"heyitsmefred","size":" 1","x":" 4.940128","y":"16.805695"},{"id":"hrbrmstr","size":" 1","x":"16.761962","y":"11.749527"},{"id":"jaimicore","size":" 5","x":"13.711772","y":"11.127205"},{"id":"jakub","size":" 1","x":"12.423599","y":" 9.018974"},{"id":"jakub_nowosad","size":" 2","x":"14.259081","y":" 9.625196"},{"id":"kevin","size":" 3","x":"14.309250","y":" 7.660507"},{"id":"lcgunam","size":" 4","x":"13.583104","y":"19.602837"},{"id":"LeeLeo1993","size":"10","x":" 6.088274","y":" 4.256135"},{"id":"LeNematode","size":" 2","x":" 9.369251","y":" 2.618960"},{"id":"lobrowR","size":" 1","x":"18.010201","y":"11.651041"},{"id":"lq","size":" 2","x":" 1.131228","y":"18.861350"},{"id":"maartenzam","size":" 1","x":" 3.791082","y":"17.230767"},{"id":"malisas7","size":" 4","x":"16.625393","y":"19.146177"},{"id":"MathStats","size":" 2","x":"10.320476","y":"18.777685"},{"id":"mattocci","size":" 1","x":" 5.797947","y":" 9.817553"},{"id":"MicrosoftVan","size":" 1","x":"14.292989","y":" 3.201033"},{"id":"MrUnadon","size":" 1","x":"14.660020","y":"13.501208"},{"id":"nnb","size":" 3","x":"18.814607","y":" 7.055291"},{"id":"nowosad","size":" 1","x":" 7.729807","y":"16.216701"},{"id":"nowyvr","size":" 5","x":" 8.227362","y":" 8.811818"},{"id":"pacoramon","size":" 1","x":"11.559897","y":" 4.741625"},{"id":"rab7599","size":" 4","x":" 5.791199","y":" 6.904493"},{"id":"RachaelEBee","size":" 1","x":" 6.090232","y":" 7.163208"},{"id":"rensa","size":" 3","x":"12.665562","y":"11.550481"},{"id":"RobCalver5","size":" 3","x":" 3.764735","y":" 2.944456"},{"id":"rstatstweet","size":"11","x":"18.903436","y":"12.792760"},{"id":"rstudio","size":" 2","x":" 7.396684","y":" 4.103364"},{"id":"rural_gis","size":" 4","x":"14.818315","y":"16.334070"},{"id":"samjboysel","size":" 2","x":"19.269269","y":"18.874772"},{"id":"slothsonian","size":" 4","x":"10.822038","y":" 4.712260"},{"id":"StatGarrett","size":" 1","x":" 6.441311","y":" 5.572549"},{"id":"thosjleeper","size":" 1","x":"10.605600","y":" 7.599939"},{"id":"tladeras","size":" 9","x":" 8.815788","y":"17.607440"},{"id":"tomschenkjr","size":" 1","x":"17.596050","y":" 6.089096"},{"id":"ubc","size":" 1","x":" 2.086222","y":"11.908400"},{"id":"unam","size":" 5","x":" 4.719937","y":" 9.414087"},{"id":"ushey","size":" 3","x":"16.133062","y":" 3.808921"},{"id":"vir","size":" 2","x":"16.357648","y":"11.967976"},{"id":"voxlacea","size":" 2","x":"11.834984","y":" 7.610312"},{"id":"WWCodeVancouver","size":" 1","x":"19.962303","y":" 2.579888"},{"id":"xenggg","size":" 1","x":" 2.013648","y":"17.826883"},{"id":"yutannihilation","size":" 2","x":"12.763350","y":" 6.225990"}]},"type":"canvas","crosstalk":{"crosstalk_key":null,"crosstalk_group":null}},"evals":[],"jsHooks":[]}</script>
<p>sigmajs actually allows you to build graphs using only nodes or edges, we’ll see why this is useful in a later chapter on <a href="dynamic.html#dynamic">temporal graphs</a>. Let’s add the edges. Then again, to meet sigmajs’ requirements, we pass <code>id</code>, <code>source</code> and <code>target</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sigmajs</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, size) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target)</code></pre></div>
<div id="htmlwidget-030885ba5ee176410d68" class="sigmajs html-widget" style="width:100%;height:480px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-030885ba5ee176410d68">{"x":{"data":{"nodes":[{"id":"77ccampbell","size":" 2","x":" 4.700228","y":"18.715495"},{"id":"AmstatNews","size":" 2","x":"19.135490","y":"18.542709"},{"id":"anmamago","size":" 2","x":"17.125856","y":" 5.913581"},{"id":"areyesq","size":" 6","x":" 8.983353","y":" 8.795905"},{"id":"AskvividXet","size":" 1","x":"12.347018","y":"14.827937"},{"id":"benilton","size":" 2","x":"12.819846","y":" 1.601204"},{"id":"Bioconductor","size":" 2","x":"19.280493","y":"19.675004"},{"id":"ccg","size":" 2","x":"13.705797","y":"19.591951"},{"id":"ccg_unam","size":" 4","x":"15.820114","y":"18.128278"},{"id":"CDSBMexico","size":" 1","x":" 8.287569","y":"15.783837"},{"id":"ChicagoCDO","size":" 1","x":" 1.244222","y":"12.135631"},{"id":"CivicAngela","size":" 4","x":" 1.612879","y":"19.930547"},{"id":"co","size":" 3","x":"10.873268","y":" 8.225313"},{"id":"correajfc","size":" 1","x":"14.809662","y":"12.645133"},{"id":"CougRstats","size":" 2","x":" 8.021424","y":"10.233754"},{"id":"CRC","size":" 2","x":"17.704910","y":"16.641460"},{"id":"dangerpeel","size":" 4","x":" 9.793253","y":" 5.730443"},{"id":"DataScienceCtrl","size":" 1","x":" 5.841466","y":"11.810021"},{"id":"datascienceplus","size":" 2","x":" 2.021094","y":"13.968948"},{"id":"dvaughan32","size":" 2","x":" 8.781910","y":" 3.913929"},{"id":"ecoscope","size":" 1","x":"12.663301","y":" 5.723811"},{"id":"fellgernon","size":" 1","x":"17.455120","y":"19.267791"},{"id":"hadleywickham","size":" 1","x":" 7.439457","y":" 3.136037"},{"id":"henrikbengtsson","size":" 1","x":"14.124230","y":" 2.265217"},{"id":"hexheadtn","size":" 5","x":" 2.806368","y":" 3.044044"},{"id":"heyitsmefred","size":" 1","x":"14.562174","y":"10.064683"},{"id":"hrbrmstr","size":" 1","x":" 9.096198","y":"11.746830"},{"id":"jaimicore","size":" 5","x":" 4.112202","y":"10.065269"},{"id":"jakub","size":" 1","x":"10.909194","y":" 9.986529"},{"id":"jakub_nowosad","size":" 2","x":" 7.938745","y":" 8.685615"},{"id":"kevin","size":" 3","x":"19.691486","y":"13.475991"},{"id":"lcgunam","size":" 4","x":"19.767797","y":"19.125857"},{"id":"LeeLeo1993","size":"10","x":" 2.515921","y":"10.482500"},{"id":"LeNematode","size":" 2","x":"11.638017","y":"17.021979"},{"id":"lobrowR","size":" 1","x":"13.400011","y":"10.399882"},{"id":"lq","size":" 2","x":" 7.467462","y":" 1.156717"},{"id":"maartenzam","size":" 1","x":"13.970064","y":"17.329921"},{"id":"malisas7","size":" 4","x":" 5.750318","y":" 3.671037"},{"id":"MathStats","size":" 2","x":" 9.517840","y":" 5.462391"},{"id":"mattocci","size":" 1","x":"18.667261","y":" 5.616468"},{"id":"MicrosoftVan","size":" 1","x":" 5.183118","y":" 9.430028"},{"id":"MrUnadon","size":" 1","x":"13.715300","y":"12.985161"},{"id":"nnb","size":" 3","x":"14.275521","y":"16.842732"},{"id":"nowosad","size":" 1","x":"13.612593","y":"14.466798"},{"id":"nowyvr","size":" 5","x":"15.281372","y":" 5.826618"},{"id":"pacoramon","size":" 1","x":"10.552413","y":" 6.807214"},{"id":"rab7599","size":" 4","x":"16.220117","y":" 6.924637"},{"id":"RachaelEBee","size":" 1","x":"17.948246","y":"13.144671"},{"id":"rensa","size":" 3","x":" 6.021021","y":" 6.244690"},{"id":"RobCalver5","size":" 3","x":"10.157575","y":" 7.965198"},{"id":"rstatstweet","size":"11","x":" 4.589241","y":" 9.168596"},{"id":"rstudio","size":" 2","x":"14.789162","y":" 9.091349"},{"id":"rural_gis","size":" 4","x":" 2.964404","y":" 6.207622"},{"id":"samjboysel","size":" 2","x":"19.475296","y":" 4.147794"},{"id":"slothsonian","size":" 4","x":" 9.253825","y":" 7.123972"},{"id":"StatGarrett","size":" 1","x":"18.048012","y":" 6.277993"},{"id":"thosjleeper","size":" 1","x":" 4.298606","y":"15.387106"},{"id":"tladeras","size":" 9","x":" 7.225669","y":"10.531180"},{"id":"tomschenkjr","size":" 1","x":"11.985610","y":"19.047207"},{"id":"ubc","size":" 1","x":"11.025820","y":"15.141537"},{"id":"unam","size":" 5","x":" 9.043001","y":" 4.547316"},{"id":"ushey","size":" 3","x":" 7.147518","y":"13.416696"},{"id":"vir","size":" 2","x":" 8.200432","y":" 5.524472"},{"id":"voxlacea","size":" 2","x":"19.568861","y":"13.229084"},{"id":"WWCodeVancouver","size":" 1","x":"16.501450","y":"10.511376"},{"id":"xenggg","size":" 1","x":" 1.305570","y":" 1.478020"},{"id":"yutannihilation","size":" 2","x":" 4.207012","y":"17.376439"}],"edges":[{"id":"1","source":"lobrowR","target":"henrikbengtsson"},{"id":"2","source":"rstatstweet","target":"CRC"},{"id":"3","source":"rstatstweet","target":"MathStats"},{"id":"4","source":"rstatstweet","target":"AmstatNews"},{"id":"5","source":"rstatstweet","target":"rstatstweet"},{"id":"6","source":"rstatstweet","target":"benilton"},{"id":"7","source":"rstatstweet","target":"Bioconductor"},{"id":"8","source":"rstatstweet","target":"samjboysel"},{"id":"9","source":"rstatstweet","target":"dvaughan32"},{"id":"10","source":"rstatstweet","target":"datascienceplus"},{"id":"11","source":"correajfc","target":"hrbrmstr"},{"id":"12","source":"RobCalver5","target":"CRC"},{"id":"13","source":"RobCalver5","target":"MathStats"},{"id":"14","source":"RobCalver5","target":"AmstatNews"},{"id":"15","source":"77ccampbell","target":"tomschenkjr"},{"id":"16","source":"77ccampbell","target":"ChicagoCDO"},{"id":"17","source":"tladeras","target":"dangerpeel"},{"id":"18","source":"tladeras","target":"CivicAngela"},{"id":"19","source":"tladeras","target":"slothsonian"},{"id":"20","source":"tladeras","target":"malisas7"},{"id":"21","source":"tladeras","target":"tladeras"},{"id":"22","source":"RachaelEBee","target":"rstatstweet"},{"id":"23","source":"CougRstats","target":"StatGarrett"},{"id":"24","source":"CougRstats","target":"rstudio"},{"id":"25","source":"MrUnadon","target":"maartenzam"},{"id":"26","source":"rural_gis","target":"rensa"},{"id":"27","source":"rural_gis","target":"co"},{"id":"28","source":"rural_gis","target":"kevin"},{"id":"29","source":"rural_gis","target":"ushey"},{"id":"30","source":"areyesq","target":"benilton"},{"id":"31","source":"areyesq","target":"Bioconductor"},{"id":"32","source":"areyesq","target":"CDSBMexico"},{"id":"33","source":"areyesq","target":"fellgernon"},{"id":"34","source":"areyesq","target":"nnb"},{"id":"35","source":"areyesq","target":"unam"},{"id":"36","source":"rab7599","target":"rensa"},{"id":"37","source":"rab7599","target":"co"},{"id":"38","source":"rab7599","target":"kevin"},{"id":"39","source":"rab7599","target":"ushey"},{"id":"40","source":"xenggg","target":"yutannihilation"},{"id":"41","source":"pacoramon","target":"rstudio"},{"id":"42","source":"ccg_unam","target":"ccg"},{"id":"43","source":"ccg_unam","target":"unam"},{"id":"44","source":"ccg_unam","target":"nnb"},{"id":"45","source":"ccg_unam","target":"unam"},{"id":"46","source":"nowyvr","target":"hadleywickham"},{"id":"47","source":"nowyvr","target":"MicrosoftVan"},{"id":"48","source":"nowyvr","target":"ecoscope"},{"id":"49","source":"nowyvr","target":"ubc"},{"id":"50","source":"nowyvr","target":"WWCodeVancouver"},{"id":"51","source":"lcgunam","target":"ccg"},{"id":"52","source":"lcgunam","target":"unam"},{"id":"53","source":"lcgunam","target":"nnb"},{"id":"54","source":"lcgunam","target":"unam"},{"id":"55","source":"voxlacea","target":"samjboysel"},{"id":"56","source":"voxlacea","target":"dvaughan32"},{"id":"57","source":"jakub_nowosad","target":"jakub"},{"id":"58","source":"jakub_nowosad","target":"nowosad"},{"id":"59","source":"AskvividXet","target":"DataScienceCtrl"},{"id":"60","source":"anmamago","target":"vir"},{"id":"61","source":"anmamago","target":"lq"},{"id":"62","source":"hexheadtn","target":"dangerpeel"},{"id":"63","source":"hexheadtn","target":"CivicAngela"},{"id":"64","source":"hexheadtn","target":"slothsonian"},{"id":"65","source":"hexheadtn","target":"malisas7"},{"id":"66","source":"hexheadtn","target":"tladeras"},{"id":"67","source":"LeNematode","target":"vir"},{"id":"68","source":"LeNematode","target":"lq"},{"id":"69","source":"jaimicore","target":"dangerpeel"},{"id":"70","source":"jaimicore","target":"CivicAngela"},{"id":"71","source":"jaimicore","target":"slothsonian"},{"id":"72","source":"jaimicore","target":"malisas7"},{"id":"73","source":"jaimicore","target":"tladeras"},{"id":"74","source":"LeeLeo1993","target":"rensa"},{"id":"75","source":"LeeLeo1993","target":"co"},{"id":"76","source":"LeeLeo1993","target":"kevin"},{"id":"77","source":"LeeLeo1993","target":"ushey"},{"id":"78","source":"LeeLeo1993","target":"dangerpeel"},{"id":"79","source":"LeeLeo1993","target":"CivicAngela"},{"id":"80","source":"LeeLeo1993","target":"slothsonian"},{"id":"81","source":"LeeLeo1993","target":"malisas7"},{"id":"82","source":"LeeLeo1993","target":"tladeras"},{"id":"83","source":"LeeLeo1993","target":"thosjleeper"},{"id":"84","source":"mattocci","target":"datascienceplus"},{"id":"85","source":"heyitsmefred","target":"yutannihilation"}]},"type":"canvas","crosstalk":{"crosstalk_key":null,"crosstalk_group":null}},"evals":[],"jsHooks":[]}</script>
<p>This graph does not look great. We’ll beautify that bit by bit as we move through the book: sigmajs is highly customisable.</p>
<p>Nevermind beauty, what’s on the graph exactly? Each disk/point on the graph is a twitter user, they are connected when one has tagged the other in the a tweet.</p>
<p>You may also notice that the graph contains surprisingly few nodes, given that we queried 100 tweets you would expect over 100 nodes on the graph. This is because our visualisation only includes tweets that mention other users and most tweets are not targeted (tagged) at other users. There is an easy remedy to this which we’ll look at in the <a href="advanced" class="uri">advanced</a> chapter.</p>
<div class="note">
<p>
Remember the workflow of the <em>twinetverse</em>:
</p>
<ol style="list-style-type: decimal">
<li>
We <strong>collect</strong> the data
</li>
<li>
We <strong>build</strong> the graph
</li>
<li>
We <strong>visualise</strong> the network
</li>
</ol>
</div>
</div>
<div id="recap" class="section level2">
<h2><span class="header-section-number">5.4</span> Recap</h2>
<p>This chapter aimed at demonstrating the basic principles behind the packages and the order in which use them. The chapter may look long~ish but the code is not, here it is put together.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

<span class="co"># COLLECT</span>
tweets &lt;-<span class="st"> </span><span class="kw">search_tweets</span>(<span class="st">&quot;rstats&quot;</span>, <span class="dt">token =</span> TK)

<span class="co"># BUILD</span>
net &lt;-<span class="st"> </span>tweets <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_edges</span>(text, screen_name, status_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_nodes</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gt_collect</span>() 

<span class="kw">c</span>(edges, nodes) <span class="op">%&lt;-%</span><span class="st"> </span>net <span class="co"># unpack</span>

<span class="co"># prepare for sigmajs</span>
nodes &lt;-<span class="st"> </span><span class="kw">nodes2sg</span>(nodes)
edges &lt;-<span class="st"> </span><span class="kw">edges2sg</span>(edges)

<span class="co"># VISUALISE</span>
<span class="kw">sigmajs</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, size) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target)</code></pre></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-base">
<p>R Core Team. 2018. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-R-zeallot">
<p>Teetor, Nathan. 2018. <em>Zeallot: Multiple, Unpacking, and Destructuring Assignment</em>. <a href="https://CRAN.R-project.org/package=zeallot" class="uri">https://CRAN.R-project.org/package=zeallot</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="prerequisites.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="advanced.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true,
"fontsettings": {
"theme": "Night"
}
}
});
});
</script>

</body>

</html>
