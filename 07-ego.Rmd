# Ego {#ego}

```{r, echo=FALSE, include=FALSE}
library(twinetverse)

TK <- readRDS("twitter_token.rds")
```

In this chapter we briefly go over ego networks with the _twinetverse_. Ego networks are graphs of a focal node. To do so we collect tweets not by keyword but instead posted by a user, essentially downloading the user's timeline.

```{r ego timeline, warning=FALSE}
tl <- rtweet::get_timeline("jdatap", n = 50)
```

Then we build the network, like we did before, just adding the missing `source` column.

```{r ego net}
net <- tl %>% 
  dplyr::mutate(src = "jdatap") %>% 
  gt_edges(text, src, status_id) %>% 
  gt_nodes() %>% 
  gt_collect()
```

Then we unpack the network and count the edges.

```{r ego unpack}
c(edges, nodes) %<-% net

edges <- edges %>% 
  dplyr::count(source, target) %>%
  edges2sg()

nodes <- nodes2sg(nodes)
```

Then we plot the network.

```{r ego graph}
sigmajs() %>% 
  sg_nodes(nodes, id, label, size) %>% 
  sg_edges(edges, source, target, id) %>% 
  sg_layout() %>% 
  sg_settings(
    defaultNodeColor = "#1dcaff",
    edgeColor = "default",
    defaultEdgeColor = "#d3d3d3",
    labelThreshold = 1
  )
```

As you can see all the nodes (users) are linked to a single node, which is the user whose timeline we downloaded.
